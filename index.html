<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>PıleySiteyşın 6n</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Saira:wght@300;500;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

        :root {
            --bg-dark: #0a0a0a;
            --china-red: #d32f2f;
            --cheap-plastic: #333;
        }

        body {
            margin: 0; padding: 0; background-color: black; color: white;
            font-family: 'Saira', sans-serif; overflow: hidden; height: 100vh; user-select: none;
        }

        /* DUVAR KAĞIDI */
        #bg-layer {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;
            background: radial-gradient(circle at 50% 50%, #1a1a1a 0%, #000 90%);
        }

        /* MADE IN CHINA DAMGASI */
        .watermark {
            position: fixed; bottom: 10px; right: 10px; 
            font-family: Arial, sans-serif; font-size: 12px; color: #555; 
            opacity: 0.7; pointer-events: none; z-index: 50;
        }

        /* ÜST BAR */
        .top-bar {
            display: flex; justify-content: space-between; padding: 25px 50px; align-items: center;
            border-bottom: 2px solid #222; background: rgba(0,0,0,0.8);
        }
        .logo-area { font-size: 1.5rem; font-weight: bold; font-style: italic; display: flex; align-items: center; gap: 10px; }
        .logo-icon { color: var(--china-red); font-size: 2rem; }
        
        .tabs { display: flex; gap: 30px; }
        .tab { color: #555; font-weight: bold; padding: 5px 15px; border-radius: 4px; }
        .tab.active { color: white; background: #222; border-bottom: 3px solid var(--china-red); }
        .tab-hint { font-size: 0.7rem; color: #444; margin-left: 5px; vertical-align: super; }

        .user-area { display: flex; align-items: center; gap: 15px; }
        .avatar { width: 40px; height: 40px; background: #444; border-radius: 50%; border: 2px solid #666; }

        /* KURULUM EKRANI (İLK AÇILIŞ) */
        .setup-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 9999; display: flex; flex-direction: column;
            align-items: center; justify-content: center;
        }
        .setup-box {
            width: 500px; background: #111; border: 2px solid var(--china-red); padding: 40px; text-align: center;
        }
        .setup-input {
            width: 90%; padding: 10px; margin: 10px 0; background: #222; border: 1px solid #444; color: white;
            font-family: 'Saira', sans-serif;
        }
        .setup-btn {
            background: var(--china-red); color: white; border: none; padding: 15px 30px; 
            font-size: 1.2rem; cursor: pointer; margin-top: 20px; font-weight: bold;
        }
        .setup-btn:hover { background: #b71c1c; }

        /* MENÜ KARTLARI */
        .card-container {
            display: flex; gap: 20px; padding: 50px; overflow: visible;
            transition: transform 0.3s cubic-bezier(0.25, 1, 0.5, 1); margin-top: 20px;
        }
        .card {
            min-width: 200px; height: 300px; background: #151515; border-radius: 10px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            border: 3px solid transparent; position: relative;
        }
        .card.selected {
            transform: scale(1.1); border-color: white; background: #222; z-index: 10;
            box-shadow: 0 10px 40px rgba(255,255,255,0.1);
        }
        .card i { font-size: 4rem; margin-bottom: 20px; color: #888; }
        .card-title { font-size: 1.2rem; font-weight: bold; text-align: center; }

        /* UYGULAMA PENCERELERİ (GENEL) */
        .app-window {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(10,10,10,0.98); z-index: 1000; display: none;
            flex-direction: column; align-items: center; justify-content: center;
        }
        
        /* JUMPSCARE */
        .jumpscare-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: black; z-index: 99999; display: none;
            background-image: url('https://upload.wikimedia.org/wikipedia/commons/8/87/Scary_face.png'); /* Örnek korkunç yüz */
            background-size: cover; background-position: center;
        }

        /* OYUN MENÜLERİ */
        .game-menu {
            width: 600px; height: 400px; background: #000; border: 5px solid white;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            font-family: 'Press Start 2P', cursive; text-align: center;
        }
        .gm-btn { margin: 10px; padding: 10px; color: #888; cursor: pointer; }
        .gm-btn.active { color: yellow; text-decoration: underline; }

        /* PROFİL */
        .profile-box {
            width: 600px; background: #222; border: 1px solid #444; padding: 30px;
        }
        .stat-row { display: flex; justify-content: space-between; padding: 10px; border-bottom: 1px solid #333; }

    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

    <div id="bg-layer"></div>
    <div class="watermark">Made in China | Model: PS6-Fake-v1.0</div>

    <!-- KURULUM SİHİRBAZI -->
    <div class="setup-overlay" id="setup-screen">
        <div class="setup-box">
            <h1 style="color: var(--china-red);">KURULUM SİHİRBAZI</h1>
            <p>Hoşgeldiniz. Lütfen bilgilerinizi (çalmamız için) girin.</p>
            <input type="text" id="reg-name" class="setup-input" placeholder="Adınız Soyadınız">
            <input type="text" id="reg-tc" class="setup-input" placeholder="TC Kimlik (Vermesen de buluruz)">
            <input type="text" id="reg-blood" class="setup-input" placeholder="Kan Grubun (Böbrek için)">
            <button class="setup-btn" onclick="completeSetup()">KAYDI TAMAMLA & RUHUNU SAT</button>
        </div>
    </div>

    <!-- JUMPSCARE -->
    <div class="jumpscare-overlay" id="scare-box"></div>

    <!-- ANA ARAYÜZ -->
    <div class="top-bar">
        <div class="logo-area">
            <i class="fab fa-playstation logo-icon"></i> <span id="console-name">PıleySiteyşın...</span>
        </div>
        <div class="tabs">
            <div class="tab active" id="tab-games">OYUNLAR <span class="tab-hint">[Q]</span></div>
            <div class="tab" id="tab-media">MEDYA <span class="tab-hint">[W]</span></div>
            <div class="tab" id="tab-web">İNTERNET <span class="tab-hint">[E]</span></div>
        </div>
        <div class="user-area">
            <span id="user-display">Misafir</span>
            <div class="avatar"></div>
        </div>
    </div>

    <div style="width: 100%; overflow: hidden; height: 500px;">
        <div class="card-container" id="card-row">
            <!-- Kartlar JS ile gelecek -->
        </div>
    </div>

    <div style="position:fixed; bottom: 30px; left: 50px; color: #888;">
        [OK TUŞLARI] Gezin - [ENTER] Seç - [ESC] Geri
    </div>

    <!-- === APP PENCERELERİ === -->

    <!-- SPOTIFY -->
    <div class="app-window" id="app-spoti">
        <h1 style="color: #1db954;">SIPATIFAY</h1>
        <div style="width: 400px; background: #111; border: 1px solid #333; padding: 20px;">
            <div class="gm-btn active" id="spoti-0">1. Damar FM</div>
            <div class="gm-btn" id="spoti-1">2. Mışıl Mışıl Uyku (TEHLİKELİ)</div>
            <div class="gm-btn" id="spoti-2">3. Ankara Havaları</div>
        </div>
        <p id="spoti-status" style="margin-top: 20px; color: yellow;"></p>
    </div>

    <!-- MAĞAZA -->
    <div class="app-window" id="app-store">
        <h1 style="color: #00a8ff;">MAĞAZA (BEDAVA)</h1>
        <div id="store-list" style="display:grid; grid-template-columns: 1fr 1fr; gap: 20px;">
            <!-- JS ile dolacak -->
        </div>
    </div>

    <!-- PROFİL -->
    <div class="app-window" id="app-profile">
        <h1>KULLANICI PROFİLİ</h1>
        <div class="profile-box">
            <div class="stat-row"><span>Kullanıcı:</span> <span id="prof-name">-</span></div>
            <div class="stat-row"><span>Kredi Notu:</span> <span style="color:red;">-1500 (Batak)</span></div>
            <div class="stat-row"><span>Kayıtlı Oyunlar:</span> <span id="prof-games">Yok</span></div>
            <div class="stat-row"><span>Garanti:</span> <span>Bitti (Dün)</span></div>
        </div>
    </div>

    <!-- FIFA 77 GAME -->
    <div class="app-window" id="game-fifa">
        <div class="game-menu" id="fifa-menu">
            <h1 style="color: yellow; text-shadow: 4px 4px 0 #000;">FIFA 77</h1>
            <p style="font-size: 0.6rem; color: #aaa;">CRACKED BY REVOLT</p>
            <div style="margin-top: 40px;">
                <div class="gm-btn active" id="fifa-opt-0">MAÇA ÇIK</div>
                <div class="gm-btn" id="fifa-opt-1">ŞİKE YAP (100TL)</div>
            </div>
        </div>
        <canvas id="fifa-canvas" width="600" height="400" style="background:green; display:none; border: 5px solid white;"></canvas>
    </div>

    <!-- GTA BAĞCILAR GAME -->
    <div class="app-window" id="game-gta">
        <div class="game-menu" id="gta-menu" style="background: #222;">
            <h1 style="color: white; text-shadow: 4px 4px 0 purple;">GTA: BAĞCILAR</h1>
            <p style="font-size: 0.6rem; color: orange;">TOFAŞ EDITION</p>
            <div style="margin-top: 40px;">
                <div class="gm-btn active" id="gta-opt-0">BAĞCILAR TURU</div>
                <div class="gm-btn" id="gta-opt-1">KAVGA ET (KİLİTLİ)</div>
            </div>
        </div>
        <canvas id="gta-canvas" width="500" height="500" style="background:#333; display:none; border: 5px solid white;"></canvas>
    </div>

    <script>
        /* --- VERİTABANI (RAM) --- */
        let user = {
            name: "Misafir",
            tc: "",
            games: [] // Satın alınan oyunlar buraya gelir
        };

        const allItems = [
            // Games
            { id: 'fifa', tab: 'games', title: 'FIFA 77', icon: 'fa-futbol', owned: false, price: 'Bedava' },
            { id: 'gta', tab: 'games', title: 'GTA: Bağcılar', icon: 'fa-car', owned: false, price: 'Bedava' },
            { id: 'store', tab: 'games', title: 'MAĞAZA', icon: 'fa-shopping-bag', owned: true, price: '' },
            // Media
            { id: 'spoti', tab: 'media', title: 'Sıpatifay', icon: 'fa-spotify', owned: true, price: '' },
            { id: 'netfiliz', tab: 'media', title: 'Netfiliz', icon: 'fa-play', owned: true, price: '' },
            // Web
            { id: 'profile', tab: 'web', title: 'Profilim', icon: 'fa-user-circle', owned: true, price: '' },
            { id: 'browser', tab: 'web', title: 'Google (Çakma)', icon: 'fa-globe', owned: true, price: '' }
        ];

        /* --- STATE --- */
        let state = {
            activeTab: 'games',
            index: 0,
            screen: 'home', // home, app
            activeApp: null,
            subIndex: 0 // app içi menüler için
        };

        /* --- SETUP --- */
        function completeSetup() {
            const name = document.getElementById('reg-name').value;
            if(!name) { alert("Adını girmedin! O kadar da değil."); return; }
            
            user.name = name;
            user.tc = document.getElementById('reg-tc').value;
            
            // UI Güncelle
            document.getElementById('setup-screen').style.display = 'none';
            document.getElementById('console-name').innerText = "PıleySiteyşın 6";
            document.getElementById('user-display').innerText = user.name;
            
            // Başlangıç oyunlarını ekle
            addGameToLibrary('fifa');
            addGameToLibrary('gta');

            renderMenu();
        }

        function addGameToLibrary(id) {
            let game = allItems.find(x => x.id === id);
            if(game && !game.owned) {
                game.owned = true;
                user.games.push(game.title);
            }
        }

        /* --- RENDER --- */
        function renderMenu() {
            const container = document.getElementById('card-row');
            container.innerHTML = '';
            
            const currentItems = allItems.filter(i => i.tab === state.activeTab);
            
            currentItems.forEach((item, idx) => {
                let div = document.createElement('div');
                div.className = `card ${idx === state.index ? 'selected' : ''}`;
                div.innerHTML = `
                    <i class="fas ${item.icon}"></i>
                    <div class="card-title">${item.title}</div>
                    ${!item.owned ? '<div style="color:orange; font-size:0.8rem; margin-top:5px;">İNDİRİLMEDİ</div>' : ''}
                `;
                container.appendChild(div);
            });

            // Tab Highlights
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.getElementById(`tab-${state.activeTab}`).classList.add('active');

            // Scroll focus
            const offset = state.index * -220;
            container.style.transform = `translateX(${offset + 50}px)`;
        }

        /* --- INPUT --- */
        document.addEventListener('keydown', (e) => {
            // Jumpscare aktifse tuşları kilitle
            if(document.getElementById('scare-box').style.display === 'block') return;

            if (state.screen === 'home') {
                // Tab Değişimi
                if (e.key === 'q' || e.key === 'Q') { state.activeTab = 'games'; state.index = 0; }
                if (e.key === 'w' || e.key === 'W') { state.activeTab = 'media'; state.index = 0; }
                if (e.key === 'e' || e.key === 'E') { state.activeTab = 'web'; state.index = 0; }
                
                // Menü Hareketi
                let list = allItems.filter(i => i.tab === state.activeTab);
                if (e.key === 'ArrowRight' && state.index < list.length - 1) state.index++;
                if (e.key === 'ArrowLeft' && state.index > 0) state.index--;
                
                if (e.key === 'Enter') launchApp(list[state.index]);
                
                renderMenu();
            } 
            else if (state.screen === 'app') {
                if (e.key === 'Escape') closeApp();
                else handleAppInput(e);
            }
        });

        /* --- APP LAUNCHER --- */
        function launchApp(item) {
            state.activeApp = item.id;
            state.screen = 'app';
            state.subIndex = 0; // Reset sub menu index

            // Hide all apps first
            document.querySelectorAll('.app-window').forEach(w => w.style.display = 'none');

            if(item.id === 'spoti') {
                document.getElementById('app-spoti').style.display = 'flex';
                updateSpotiUI();
            }
            else if(item.id === 'store') {
                document.getElementById('app-store').style.display = 'flex';
                renderStore();
            }
            else if(item.id === 'profile') {
                document.getElementById('app-profile').style.display = 'flex';
                document.getElementById('prof-name').innerText = user.name;
                document.getElementById('prof-games').innerText = user.games.join(', ') || "Fakirsin oyunun yok";
            }
            else if(item.id === 'fifa') {
                if(!item.owned) { alert("Önce Mağazadan indir!"); closeApp(); return; }
                document.getElementById('game-fifa').style.display = 'flex';
                updateFifaUI();
            }
            else if(item.id === 'gta') {
                if(!item.owned) { alert("Önce Mağazadan indir!"); closeApp(); return; }
                document.getElementById('game-gta').style.display = 'flex';
                updateGtaUI();
            }
            else {
                alert("Bu özellik bozuk. Sonra gel.");
                closeApp();
            }
        }

        function closeApp() {
            state.screen = 'home';
            state.activeApp = null;
            document.querySelectorAll('.app-window').forEach(w => w.style.display = 'none');
            // Reset games
            stopFIFA();
            stopGTA();
            document.getElementById('fifa-menu').style.display = 'flex';
            document.getElementById('fifa-canvas').style.display = 'none';
            document.getElementById('gta-menu').style.display = 'flex';
            document.getElementById('gta-canvas').style.display = 'none';
        }

        /* --- APP LOGICS --- */

        // -- SPOTIFY --
        function handleSpotiInput(e) {
            if(e.key === 'ArrowDown') state.subIndex = (state.subIndex + 1) % 3;
            if(e.key === 'ArrowUp') state.subIndex = (state.subIndex - 1 + 3) % 3;
            if(e.key === 'Enter') {
                if(state.subIndex === 1) { // Jumpscare index
                    let conf = confirm("UYARI: Bu şarkı aşırı rahatlatır. Kalbin dayanmayabilir. Emin misin?");
                    if(conf) {
                        document.getElementById('spoti-status').innerText = "Çalıyor: Mışıl Mışıl (Yükleniyor...)";
                        setTimeout(() => {
                            // BOO!
                            let scare = document.getElementById('scare-box');
                            scare.style.display = 'block';
                            // Titret ve kapat
                            setTimeout(() => { scare.style.display = 'none'; document.getElementById('spoti-status').innerText = ""; }, 2000);
                        }, 2000);
                    }
                } else {
                    document.getElementById('spoti-status').innerText = "Çalıyor: Dımtıs Dımtıs...";
                }
            }
            updateSpotiUI();
        }
        function updateSpotiUI() {
            document.querySelectorAll('#app-spoti .gm-btn').forEach((b, i) => {
                b.className = i === state.subIndex ? 'gm-btn active' : 'gm-btn';
            });
        }

        // -- STORE --
        function renderStore() {
            const list = document.getElementById('store-list');
            list.innerHTML = '';
            const buyable = [
                {id: 'simit', name: 'Simit Simulator 2077'},
                {id: 'halay', name: 'Düğün Halayı VR'},
                {id: 'fifa', name: 'FIFA 77 (Yama)'},
                {id: 'gta', name: 'GTA Bağcılar (DLC)'}
            ];
            
            buyable.forEach((g, i) => {
                let div = document.createElement('div');
                div.style.background = '#222';
                div.style.padding = '20px';
                div.style.border = i === state.subIndex ? '2px solid yellow' : '2px solid transparent';
                div.innerHTML = `<h3>${g.name}</h3><p>Fiyat: BEDAVA</p>`;
                list.appendChild(div);
            });
        }
        function handleStoreInput(e) {
            if(e.key === 'ArrowRight') state.subIndex = (state.subIndex + 1) % 4;
            if(e.key === 'ArrowLeft') state.subIndex = (state.subIndex - 1 + 4) % 4;
            if(e.key === 'Enter') {
                alert("Satın alındı! (Zaten bedavaydı, kazık yemedin aferin.)");
                // Kullanıcıya ekle (Simülasyon)
                if(!user.games.includes("Yeni Oyun")) user.games.push("Çöp Oyun " + (user.games.length+1));
            }
            renderStore();
        }

        // -- FIFA 77 --
        let fifaInt;
        let ballX = 300, ballY = 200, ballDX = 5, ballDY = 5;
        function updateFifaUI() {
             document.querySelectorAll('#fifa-menu .gm-btn').forEach((b, i) => {
                b.className = i === state.subIndex ? 'gm-btn active' : 'gm-btn';
            });
        }
        function startFIFA() {
            document.getElementById('fifa-menu').style.display = 'none';
            let cvs = document.getElementById('fifa-canvas');
            cvs.style.display = 'block';
            let ctx = cvs.getContext('2d');
            
            fifaInt = setInterval(() => {
                ctx.fillStyle = "green"; ctx.fillRect(0,0,600,400);
                // Saha Çizgileri
                ctx.strokeStyle = "white"; ctx.lineWidth = 5; ctx.strokeRect(50, 50, 500, 300);
                
                // Top
                ctx.fillStyle = "white"; ctx.beginPath(); ctx.arc(ballX, ballY, 10, 0, Math.PI*2); ctx.fill();
                
                ballX += ballDX; ballY += ballDY;
                if(ballX < 0 || ballX > 600) ballDX *= -1;
                if(ballY < 0 || ballY > 400) ballDY *= -1;
                
                ctx.fillStyle = "yellow"; ctx.font = "20px Arial";
                ctx.fillText("HAKEM KÖR", 250, 30);
            }, 30);
        }
        function stopFIFA() { clearInterval(fifaInt); }
        function handleFifaInput(e) {
            if(document.getElementById('fifa-menu').style.display !== 'none') {
                if(e.key === 'ArrowDown' || e.key === 'ArrowUp') {
                    state.subIndex = state.subIndex === 0 ? 1 : 0;
                    updateFifaUI();
                }
                if(e.key === 'Enter') {
                    if(state.subIndex === 0) startFIFA();
                    else alert("Şike parası yatırıldı. Maçı kazandın.");
                }
            }
        }

        // -- GTA BAĞCILAR --
        let gtaInt;
        let carX = 250;
        function updateGtaUI() {
             document.querySelectorAll('#gta-menu .gm-btn').forEach((b, i) => {
                b.className = i === state.subIndex ? 'gm-btn active' : 'gm-btn';
            });
        }
        function startGTA() {
            document.getElementById('gta-menu').style.display = 'none';
            let cvs = document.getElementById('gta-canvas');
            cvs.style.display = 'block';
            let ctx = cvs.getContext('2d');
            
            gtaInt = setInterval(() => {
                ctx.fillStyle = "#333"; ctx.fillRect(0,0,500,500);
                // Şeritler
                ctx.fillStyle = "white"; ctx.fillRect(240, 0, 10, 500); ctx.fillRect(260, 0, 10, 500);
                
                // Araba (Tofaş)
                ctx.fillStyle = "red"; ctx.fillRect(carX, 400, 40, 70);
                ctx.fillStyle = "yellow"; ctx.fillRect(carX, 400, 10, 5); ctx.fillRect(carX+30, 400, 10, 5); // Farlar
                
                ctx.fillStyle = "white"; ctx.fillText("KORNA: ENTER", 10, 30);
            }, 30);
        }
        function stopGTA() { clearInterval(gtaInt); }
        function handleGtaInput(e) {
             if(document.getElementById('gta-menu').style.display !== 'none') {
                if(e.key === 'ArrowDown' || e.key === 'ArrowUp') {
                    state.subIndex = state.subIndex === 0 ? 1 : 0;
                    updateGtaUI();
                }
                if(e.key === 'Enter') {
                    if(state.subIndex === 0) startGTA();
                    else alert("Kavga etmek için levyen yok.");
                }
            } else {
                if(e.key === 'ArrowLeft') carX -= 10;
                if(e.key === 'ArrowRight') carX += 10;
                if(e.key === 'Enter') alert("DÜT DÜÜÜÜÜÜT!");
            }
        }

        /* --- INPUT ROUTER --- */
        function handleAppInput(e) {
            if(state.activeApp === 'spoti') handleSpotiInput(e);
            else if(state.activeApp === 'store') handleStoreInput(e);
            else if(state.activeApp === 'fifa') handleFifaInput(e);
            else if(state.activeApp === 'gta') handleGtaInput(e);
        }

    </script>
</body>
</html>
