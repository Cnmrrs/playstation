<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>PıleySiteyşın 6 - Ultimate China Edition</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Saira:wght@300;500;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

        :root {
            --bg-dark: #050505;
            --china-red: #d32f2f;
            --fake-gold: #ffd700;
        }

        body {
            margin: 0; padding: 0; background-color: black; color: white;
            font-family: 'Saira', sans-serif; overflow: hidden; height: 100vh; user-select: none;
        }

        /* DUVAR KAĞIDI & EFEKTLER */
        #bg-layer {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;
            background: radial-gradient(circle at 50% 50%, #1a1a1a 0%, #000 90%);
        }
        .watermark {
            position: fixed; bottom: 10px; right: 10px; 
            font-family: Arial, sans-serif; font-size: 14px; color: #333; 
            font-weight: bold; pointer-events: none; z-index: 50;
        }

        /* JUMPSCARE (GİZLİ) */
        .scare-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: black; z-index: 99999; display: none;
            background-image: url('https://i.pinimg.com/originals/8a/c3/0c/8ac30c45d3e02047ca44ebde41b2bc75.jpg'); /* Korkunç Yüz */
            background-size: cover; background-position: center;
            animation: shake 0.1s infinite;
        }
        @keyframes shake {
            0% { transform: translate(2px, 2px) rotate(0deg); }
            50% { transform: translate(-2px, -2px) rotate(2deg); }
            100% { transform: translate(2px, -2px) rotate(-2deg); }
        }

        /* KURULUM EKRANI */
        .setup-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #111; z-index: 10000; display: flex; flex-direction: column;
            align-items: center; justify-content: center; border: 10px solid var(--china-red);
        }
        .setup-input { margin: 10px; padding: 10px; width: 300px; background: #222; color: white; border: 1px solid #555; }
        .setup-btn { background: var(--china-red); color: white; padding: 15px 40px; font-size: 1.2rem; cursor: pointer; border: none; font-weight: bold; }

        /* ANA ARAYÜZ */
        .top-bar {
            display: flex; justify-content: space-between; padding: 20px 40px; background: rgba(20,20,20,0.9); border-bottom: 2px solid #333;
        }
        .tabs { display: flex; gap: 20px; }
        .tab { padding: 5px 15px; color: #777; font-weight: bold; cursor: pointer; }
        .tab.active { color: white; border-bottom: 3px solid var(--china-red); }

        .wifi-icon { margin-right: 10px; color: #444; }
        .wifi-icon.on { color: #0f0; text-shadow: 0 0 5px #0f0; }

        .card-container {
            display: flex; gap: 30px; padding: 50px; margin-top: 20px; transition: transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
        }
        .card {
            min-width: 220px; height: 320px; background: #222; border-radius: 10px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            border: 4px solid transparent; position: relative;
        }
        .card.selected { transform: scale(1.1); border-color: white; background: #333; z-index: 10; box-shadow: 0 0 20px rgba(255,255,255,0.2); }
        .card i { font-size: 5rem; margin-bottom: 20px; color: #888; }
        .lock-icon { position: absolute; top: 10px; right: 10px; color: red; font-size: 1.5rem; }

        /* APP PENCERELERİ */
        .app-window {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 5000; display: none; flex-direction: column; align-items: center; justify-content: center;
        }

        /* NETFİLİZ */
        .netfiliz-bg { background: #000; color: #e50914; text-align: center; }
        .gihun-img { width: 300px; height: 300px; background: gray; margin-bottom: 20px; background-size: cover; border: 5px solid #222; }

        /* YUTUB */
        .yutub-bg { background: white; color: black; text-align: center; width: 80%; height: 80%; position: relative; }
        .yutub-video { height: 70%; background: black; display: flex; align-items: center; justify-content: center; color: white; flex-direction: column; }

        /* GAME CANVAS */
        canvas { background: #333; border: 4px solid white; image-rendering: pixelated; }

    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

    <div id="bg-layer"></div>
    <div class="watermark">Made in China | SONY© Değildir</div>
    <div class="scare-overlay" id="jumpscare"></div>

    <!-- KURULUM -->
    <div class="setup-screen" id="setup">
        <h1 style="color: var(--china-red);">KURULUM SİHİRBAZI (Çalıntı OS)</h1>
        <p>Bilgilerinizi girin, gerisine karışmayın.</p>
        <input type="text" id="reg-name" class="setup-input" placeholder="Adınız">
        <input type="text" id="reg-tc" class="setup-input" placeholder="TC Kimlik (Zorunlu)">
        <input type="text" id="reg-mother" class="setup-input" placeholder="Kızlık Soyadı (Güvenlik İçin)">
        <button class="setup-btn" onclick="finishSetup()">KAYIT OL</button>
    </div>

    <!-- UI -->
    <div class="top-bar">
        <div style="font-size: 1.5rem; font-weight: bold;">
            <i class="fab fa-playstation" style="color:red;"></i> PıleySiteyşın 6
        </div>
        <div class="tabs">
            <div class="tab active" id="tab-games">OYUNLAR [Q]</div>
            <div class="tab" id="tab-media">MEDYA [W]</div>
            <div class="tab" id="tab-web">WEB [E]</div>
        </div>
        <div>
            <i class="fas fa-wifi wifi-icon" id="wifi-icon"></i>
            <span id="username-display">Misafir</span>
        </div>
    </div>

    <div style="overflow: hidden; width: 100%; margin-top: 50px;">
        <div class="card-container" id="card-row"></div>
    </div>

    <div style="position:fixed; bottom: 20px; left: 50px; color: gray;">
        [OK] Gezin • [ENTER] Seç • [ESC] Geri • [İ] İnternet Aç/Kapa
    </div>

    <!-- === UYGULAMALAR === -->

    <!-- SIPATIFAY -->
    <div class="app-window" id="app-spoti">
        <h1 style="color: #1db954;">SIPATIFAY</h1>
        <div style="background:#111; padding:20px; width:400px; border:1px solid #333;">
            <div class="menu-item active" id="spoti-0">1. Damar Arabesk</div>
            <div class="menu-item" id="spoti-1">2. Mışıl Mışıl Uyku (RAHATLATICI)</div>
        </div>
        <p id="spoti-status" style="color:yellow; margin-top:20px;"></p>
    </div>

    <!-- NETFİLİZ -->
    <div class="app-window netfiliz-bg" id="app-netfiliz">
        <h1 style="font-size: 4rem;">NETFİLİZ</h1>
        <div class="gihun-img" style="background-image: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRz-Mv9iWv6u4qH2pW7e1c2r9k8o5z_x5u_3w&s'); margin: 0 auto;"></div>
        <h2 style="margin-top:20px;">"BİZ İNSAN DEĞİLİZ..."</h2>
        <h2 style="color: yellow;">"...BİZ ATIZ!"</h2>
        <p>[ESC] Çıkış</p>
    </div>

    <!-- YUTUB -->
    <div class="app-window" id="app-yutub" style="background: #e1e1e1;">
        <div class="yutub-bg">
            <div class="yutub-video">
                <i class="fas fa-user-tie" style="font-size: 5rem; margin-bottom: 20px;"></i>
                <h2 id="yutub-text">DOLAR 100 TL OLACAK!</h2>
                <h3 style="color: red; animation: blink 0.5s infinite;">YTD YTD YTD</h3>
            </div>
            <h3 style="text-align:left; margin-left:20px;">Ekonomi Çok İyi (Yalan Haber)</h3>
            <p style="text-align:left; margin-left:20px;">1 Milyon İzlenme • Az önce</p>
        </div>
    </div>

    <!-- MAĞAZA -->
    <div class="app-window" id="app-store">
        <h1 style="color:#00a8ff;">MAĞAZA (BEDAVA)</h1>
        <div id="store-grid" style="display:grid; grid-template-columns: 1fr 1fr; gap:20px;"></div>
    </div>

    <!-- OYUN: FIFA 77 -->
    <div class="app-window" id="game-fifa">
        <div style="position:absolute; top:20px; font-size:2rem; color:red; font-weight:bold; animation: blink 1s infinite;">
            GALATASARAY ŞİKE MODU AKTİF
        </div>
        <canvas id="fifa-canvas" width="600" height="400"></canvas>
        <p>Yön Tuşları: Kaleci (O da şikeci, tutmuyor)</p>
    </div>

    <!-- OYUN: SİMİT SİMULATOR -->
    <div class="app-window" id="game-simit">
        <h1>SİMİT SİMULATOR 2077</h1>
        <canvas id="simit-canvas" width="400" height="500"></canvas>
        <p>Sağ/Sol ile simitleri yakala!</p>
    </div>

    <script>
        /* --- STATE --- */
        let user = { name: "", games: [] };
        let state = { tab: 'games', idx: 0, screen: 'setup', wifi: false, app: null, subIdx: 0 };
        
        const apps = [
            { id: 'fifa', tab: 'games', title: 'FIFA 77', icon: 'fa-futbol', owned: true },
            { id: 'gta', tab: 'games', title: 'GTA Bağcılar', icon: 'fa-car', owned: true },
            { id: 'simit', tab: 'games', title: 'Simit Sim.', icon: 'fa-cookie', owned: false }, // Store'dan alınacak
            { id: 'store', tab: 'games', title: 'Mağaza', icon: 'fa-shopping-cart', owned: true },
            { id: 'spoti', tab: 'media', title: 'Sıpatifay', icon: 'fa-spotify', owned: true },
            { id: 'netfiliz', tab: 'media', title: 'Netfiliz', icon: 'fa-play', owned: true },
            { id: 'yutub', tab: 'media', title: 'YuTub', icon: 'fa-youtube', owned: true },
            { id: 'browser', tab: 'web', title: 'İnternet', icon: 'fa-globe', owned: true }
        ];

        /* --- SETUP --- */
        function finishSetup() {
            let name = document.getElementById('reg-name').value;
            if(!name) name = "Gariban";
            user.name = name;
            document.getElementById('username-display').innerText = name;
            document.getElementById('setup').style.display = 'none';
            state.screen = 'home';
            renderHome();
        }

        /* --- RENDER --- */
        function renderHome() {
            const container = document.getElementById('card-row');
            container.innerHTML = '';
            
            // Tab Filter
            let items = apps.filter(a => a.tab === state.tab);
            
            // Add bought games to 'games' tab dynamically if not already in list
            if(state.tab === 'games') {
                // Logic handled by 'owned' flag in apps array
            }

            items.forEach((item, i) => {
                let div = document.createElement('div');
                div.className = `card ${i === state.idx ? 'selected' : ''}`;
                
                // Show Simit Sim only if owned or if it's the store item
                let show = item.owned;
                if(item.id === 'simit' && !item.owned) show = false; // Don't show in library if not bought
                if(item.id === 'store') show = true;

                if(show || item.tab !== 'games') {
                     div.innerHTML = `<i class="fas ${item.icon}"></i><h2>${item.title}</h2>`;
                     if(item.id === 'simit') div.innerHTML += `<small style="color:gold">YENİ!</small>`;
                     container.appendChild(div);
                } else {
                     // Placeholder for unowned
                     div.style.display = 'none'; 
                }
            });

            // UI Updates
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.getElementById(`tab-${state.tab}`).classList.add('active');
            
            let w = document.getElementById('wifi-icon');
            w.className = state.wifi ? "fas fa-wifi wifi-icon on" : "fas fa-wifi wifi-icon";
            
            // Scroll
            container.style.transform = `translateX(${state.idx * -240 + 50}px)`;
        }

        /* --- INPUT --- */
        document.addEventListener('keydown', (e) => {
            if(state.screen === 'setup') return;

            // Global: WiFi Toggle
            if(e.key === 'i' || e.key === 'İ') {
                state.wifi = !state.wifi;
                renderHome();
                return;
            }

            if(state.screen === 'home') {
                if(e.key === 'q' || e.key === 'Q') { state.tab = 'games'; state.idx = 0; }
                if(e.key === 'w' || e.key === 'W') { state.tab = 'media'; state.idx = 0; }
                if(e.key === 'e' || e.key === 'E') { state.tab = 'web'; state.idx = 0; }
                
                let items = apps.filter(a => a.tab === state.tab && (a.owned || a.tab !== 'games'));
                // Note: Filtering logic for navigation needs to match render logic roughly
                
                if(e.key === 'ArrowRight') state.idx++;
                if(e.key === 'ArrowLeft') state.idx--;
                if(state.idx < 0) state.idx = 0;
                
                if(e.key === 'Enter') launchApp();
                
                renderHome();
            } 
            else if (state.screen === 'app') {
                if(e.key === 'Escape') closeApp();
                else handleAppInput(e);
            }
        });

        /* --- LAUNCHER --- */
        function launchApp() {
            // Get current valid list again
            let items = apps.filter(a => a.tab === state.tab);
            // Quick fix for the hiding logic in render:
            if(state.tab === 'games') items = items.filter(i => i.owned || i.id === 'store');
            
            let app = items[state.idx];
            if(!app) return;

            // Internet Check
            if(['netfiliz', 'yutub', 'browser', 'store'].includes(app.id) && !state.wifi) {
                alert("HATA: İnternet Fişi Çekik! [İ] tuşuna bas.");
                return;
            }

            state.screen = 'app';
            state.app = app.id;
            state.subIdx = 0;
            
            document.querySelectorAll('.app-window').forEach(d => d.style.display = 'none');

            if(app.id === 'spoti') {
                document.getElementById('app-spoti').style.display = 'flex';
                updateSpotiUI();
            }
            else if(app.id === 'netfiliz') document.getElementById('app-netfiliz').style.display = 'flex';
            else if(app.id === 'yutub') document.getElementById('app-yutub').style.display = 'flex';
            else if(app.id === 'store') {
                document.getElementById('app-store').style.display = 'flex';
                renderStore();
            }
            else if(app.id === 'fifa') {
                document.getElementById('game-fifa').style.display = 'flex';
                startFIFA();
            }
            else if(app.id === 'simit') {
                 document.getElementById('game-simit').style.display = 'flex';
                 startSimit();
            }
            else if(app.id === 'gta') {
                alert("GTA Bağcılar şu an polis baskınında. Açılamıyor.");
                closeApp();
            }
            else if(app.id === 'browser') {
                alert("Devlet bu siteye erişimi engelledi.");
                closeApp();
            }
        }

        function closeApp() {
            state.screen = 'home';
            document.querySelectorAll('.app-window').forEach(d => d.style.display = 'none');
            stopGameLoops();
            renderHome();
        }

        /* --- APP LOGICS --- */

        // Store
        function renderStore() {
            let grid = document.getElementById('store-grid');
            grid.innerHTML = '';
            let items = [
                {id: 'simit', name: 'Simit Simulator', price: 'BEDAVA'},
                {id: 'halay', name: 'Halay Başı VR', price: '50 TL'}
            ];
            
            items.forEach((it, i) => {
                let div = document.createElement('div');
                div.style.background = '#222'; div.style.padding = '20px';
                div.style.border = state.subIdx === i ? '2px solid white' : '2px solid transparent';
                div.innerHTML = `<h3>${it.name}</h3><p>${it.price}</p>`;
                if(it.id === 'simit' && apps.find(a=>a.id==='simit').owned) div.innerHTML += "<b style='color:green'>ALINDI</b>";
                grid.appendChild(div);
            });
        }

        // Spotify Jumpscare
        function updateSpotiUI() {
            let opts = document.querySelectorAll('.menu-item');
            opts.forEach((o, i) => o.style.color = state.subIdx === i ? 'white' : '#555');
        }

        function handleAppInput(e) {
            if(state.app === 'spoti') {
                if(e.key === 'ArrowDown' || e.key === 'ArrowUp') { state.subIdx = state.subIdx === 0 ? 1 : 0; updateSpotiUI(); }
                if(e.key === 'Enter') {
                    if(state.subIdx === 1) { // Mışıl Mışıl
                        document.getElementById('spoti-status').innerText = "Yükleniyor...";
                        setTimeout(() => {
                            // JUMPSCARE
                            document.getElementById('jumpscare').style.display = 'block';
                            // 2 sn sonra kapat
                            setTimeout(() => { 
                                document.getElementById('jumpscare').style.display = 'none'; 
                                document.getElementById('spoti-status').innerText = "";
                            }, 2000);
                        }, 3000);
                    } else {
                         document.getElementById('spoti-status').innerText = "Müslüm Baba Çalıyor...";
                    }
                }
            }
            
            if(state.app === 'store') {
                if(e.key === 'ArrowRight') state.subIdx = 1;
                if(e.key === 'ArrowLeft') state.subIdx = 0;
                if(e.key === 'Enter') {
                    if(state.subIdx === 0) { // Simit
                        let g = apps.find(a => a.id === 'simit');
                        g.owned = true;
                        alert("Simit Simulator İndirildi! Oyunlar sekmesine bak.");
                    } else {
                        alert("Paran yetersiz (Kredi kartı reddedildi).");
                    }
                    renderStore();
                }
            }

            if(state.app === 'simit') {
                if(e.key === 'ArrowLeft') playerX -= 20;
                if(e.key === 'ArrowRight') playerX += 20;
            }
        }

        /* --- GAMES --- */
        let gameInterval;
        let playerX = 180;
        let objects = []; // For Simit game

        function stopGameLoops() { clearInterval(gameInterval); }

        // FIFA 77 Logic
        function startFIFA() {
            let cvs = document.getElementById('fifa-canvas');
            let ctx = cvs.getContext('2d');
            let ball = {x: 300, y: 200, dx: 5, dy: 5};
            
            gameInterval = setInterval(() => {
                ctx.fillStyle = "green"; ctx.fillRect(0,0,600,400);
                
                // Saha
                ctx.strokeStyle = "white"; ctx.strokeRect(50,50,500,300);
                ctx.beginPath(); ctx.arc(300,200,50,0,Math.PI*2); ctx.stroke();
                
                // Top
                ctx.fillStyle = "white"; ctx.beginPath(); ctx.arc(ball.x, ball.y, 10, 0, Math.PI*2); ctx.fill();
                
                ball.x += ball.dx; ball.y += ball.dy;
                
                // Duvarlar
                if(ball.y < 0 || ball.y > 400) ball.dy *= -1;
                
                // Şike Modu: Top asla dışarı çıkmaz, kaleye girer
                if(ball.x > 600) { ball.x = 300; ball.y = 200; } // Gol
                if(ball.x < 0) { ball.x = 300; ball.y = 200; } // Gol
                
                ctx.fillStyle = "yellow"; ctx.font = "20px Arial";
                ctx.fillText("GALATASARAY: 5 - RAKİP: 0", 180, 30);
                
            }, 30);
        }

        // Simit Simulator Logic
        function startSimit() {
            let cvs = document.getElementById('simit-canvas');
            let ctx = cvs.getContext('2d');
            objects = [];
            let score = 0;
            
            gameInterval = setInterval(() => {
                ctx.fillStyle = "#87CEEB"; ctx.fillRect(0,0,400,500); // Gökyüzü
                
                // Oyuncu (Martı)
                ctx.fillStyle = "white"; ctx.fillRect(playerX, 450, 40, 20);
                
                // Simit Spawn
                if(Math.random() < 0.05) objects.push({x: Math.random()*380, y: 0});
                
                // Simitler
                ctx.fillStyle = "orange";
                objects.forEach((o, i) => {
                    o.y += 5;
                    ctx.beginPath(); ctx.arc(o.x, o.y, 10, 0, Math.PI*2); ctx.fill();
                    ctx.fillStyle = "white"; ctx.beginPath(); ctx.arc(o.x, o.y, 4, 0, Math.PI*2); ctx.fill(); // Susam
                    ctx.fillStyle = "orange"; 
                    
                    if(o.y > 500) objects.splice(i, 1);
                    // Yeme
                    if(Math.abs(o.x - playerX) < 30 && o.y > 440) {
                        score++;
                        objects.splice(i, 1);
                    }
                });
                
                ctx.fillStyle = "black"; ctx.font = "20px Arial";
                ctx.fillText("Yenen Simit: " + score, 10, 30);
                
            }, 30);
        }

        /* --- BLINK ANIMATION --- */
        const styleSheet = document.createElement("style");
        styleSheet.innerText = `
            @keyframes blink { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
            .menu-item { padding: 10px; color: #555; }
            .menu-item.active { background: #333; color: white; border-left: 5px solid green; }
        `;
        document.head.appendChild(styleSheet);

        renderHome();
    </script>
</body>
</html>
